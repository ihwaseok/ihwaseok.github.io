---
title: 사용
updated: 2023-01-12 05:40:53Z
created: 2023-01-12 03:27:51Z
latitude: 37.44491680
longitude: 127.13886840
altitude: 0.0000
sidebar: mydoc_sidebar2
permalink: Ⅱ.=프레임워크_05.=Log4j_사용.html
folder: mydoc
---

## 설정 파일

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>
    
	<logger name="org.springframework" level="ERROR"/>
	<logger name="org.hibernate" level="ERROR"/>
	<logger name="jdbc.audit" level="ERROR"/>
	<logger name="jdbc.connection" level="ERROR"/>
	<logger name="jdbc.sqltiming" level="ERROR"/>
	<logger name="jdbc.resultset" level="ERROR"/>
	<logger name="jdbc.resultsettable" level="ERROR"/>
	<logger name="jdbc.sqlonly" level="DEBUG"/>
	<logger name="com.zaxxer.hikari" level="ERROR"/>
	
	<if condition='"${spring.profiles.active}".contains("dev")'>
		<then>
		    <root level="WARN">
		        <appender-ref ref="STDOUT"/>
		    </root>
		</then>
		<else>
		    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
		        <file>D://logs/testApp.log</file>
		        <encoder>
		            <pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level %logger{35} - %msg%n</pattern>
		        </encoder>
		        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
		            <fileNamePattern>D://logs/testApp.%d{yyyy-MM-dd}.%i.log.gz</fileNamePattern>
		            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
		                <maxFileSize>10MB</maxFileSize>
		            </timeBasedFileNamingAndTriggeringPolicy>
		            <maxHistory>30</maxHistory>
		        </rollingPolicy>
		    </appender>

		    <root level="INFO">
		        <appender-ref ref="STDOUT"/>
		        <appender-ref ref="FILE"/>
		    </root>
		</else>
	</if>
    
</configuration>
```

<br>

## 코드 작성

```java
final static Logger logger = LogManager.getLogger(Test.class);

logger.log(Level.ALL,"LOG TEST");
logger.trace("TRACE TEST");
logger.info("INFO TEST");
logger.debug("DEBUG TEST");
logger.warn("WARN TEST");
logger.error("ERROR TEST");
logger.fatal("FATAL TEST");
```
