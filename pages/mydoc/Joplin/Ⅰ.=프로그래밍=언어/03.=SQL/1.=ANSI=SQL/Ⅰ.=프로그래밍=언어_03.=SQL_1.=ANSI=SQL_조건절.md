---
title: 조건절
updated: 2023-01-16 08:53:35Z
created: 2023-01-16 07:37:05Z
latitude: 37.44491680
longitude: 127.13886840
altitude: 0.0000
sidebar: mydoc_sidebar1
permalink: Ⅰ.=프로그래밍=언어_03.=SQL_1.=ANSI=SQL_조건절.html
folder: mydoc
---

## BETWEEN a AND b
- a와 b를 포함한 값 사이에 존재하는 데이터

```sql
-- ID가 1 ~ 10 인 범위의 데이터
SELECT *
FROM TEST
WHERE ID BETWEEN 1 AND 10
;

-- ID가 1 ~ 10 이 아닌 범위의 데이터
SELECT *
FROM TEST
WHERE ID NOT BETWEEN 1 AND 10
;
```

<br>

## IN (a, b, c...)
- 리스트 중의 값과 일치하는 데이터

```sql
-- ID가 1, 2, 3 인 데이터
SELECT *
FROM TEST
WHERE ID IN (1, 2, 3)
;

-- ID가 1, 2, 3 이 아닌 데이터
SELECT *
FROM TEST
WHERE ID NOT IN (1, 2, 3)
;

-- ID가 7이 아닌 TEST_SUB 테이블의 ID와 일치하는 데이터
SELECT *
FROM TEST
WHERE ID IN (
	SELECT ID
	FROM TEST_SUB
	WHERE ID <> 7
)
;
```

<br>

## LIKE a
- a의 패턴과 일치하는 데이터

```sql
-- NAME에 A가 포함된 데이터
SELECT *
FROM TEST
WHERE NAME LIKE '%A%'
;

-- NAME에 A가 포함되지 않은 데이터
SELECT *
FROM TEST
WHERE NAME NOT LIKE '%A%'
;

-- NAME의 두번째 문자가 B인 데이터
SELECT *
FROM TEST
WHERE NAME NOT LIKE '_B%'
;
```

<br>

## IS NULL
- 값이 NULL 인 데이터

```sql
-- NAME이 NULL인 데이터
SELECT *
FROM TEST
WHERE NAME IS NULL
;

-- NAME이 NULL이 아닌 데이터
SELECT *
FROM TEST
WHERE NAME IS NOT NULL
;
```

<br>

## EXISTS
- 하위 쿼리가 하나 이상의 값을 반환하는 데이터

```sql
-- 백만원 이상의 물품을 구매한 고객의 데이터
SELECT *
FROM TEST_CUSTOMER AS A
WHERE EXISTS (
	SELECT B.ID
	FROM TEST_BUY_LIST AS B
	WHERE 1=1
	AND B.ID = A.ID
	AND B.PRICE >= 1000000
)
;

-- 백만원 이상의 물품을 구매하지 않은 고객의 데이터
SELECT *
FROM TEST_CUSTOMER AS A
WHERE NOT EXISTS (
	SELECT B.ID
	FROM TEST_BUY_LIST AS B
	WHERE 1=1
	AND B.ID = A.ID
	AND B.PRICE >= 1000000
)
;
```

<br>

## CASE
- IF ~ ELSE 표현을 사용하여 데이터 처리 가능
- `SELECT`, `WHERE`, `ORDER BY` 에서 모두 사용 가능

```sql
-- SELECT에서 CASE를 사용하여 컬럼을 추가
SELECT	ID, NAME
		CASE WHEN ID > 5 THEN 'Y' ELSE 'N' END AS IS_YN
FROM	TEST
;

-- SELECT에서 CASE를 사용하여 컬럼을 추가
SELECT	ID, NAME
		CASE NAME WHEN 'ABC' THEN 'A' 
				  WHEN 'BBC' THEN 'B' 
				  ELSE 'C' END AS IS_WHAT
FROM	TEST
;

-- WHERE 에서 CASE를 사용하여 조건을 변경
SELECT *
FROM TEST
WHERE 'Y' = CASE WHEN ID > 5 THEN 'Y' ELSE 'N' END
;

-- ORDER BY 에서 CASE를 사용하여 순서를 변경
-- 비고에 존재하지 않는다는 표시가 있으면 순서 제일 뒤로
SELECT *
FROM TEST
ORDER BY CASE WHEN COMMENT = 'NOT EXISTS' THEN 'ZZZ' ELSE NAME END
;
```

<br>

## ALL
- 하위 쿼리의 결과와 전부 일치하는 데이터
- 하위 쿼리의 결과로 AND 연산을 하는 것과 동일

```sql
-- TEST_SUB 테이블에서 NAME이 A로 시작하는 모든 사람들의 ID보다 더 큰 ID를 가진 TEST의 데이터
SELECT *
FROM TEST
WHERE ID > ALL(
				SELECT ID
				FROM TEST_SUB
				WHERE NAME LIKE 'A%'
			 )
;
```

<br>

## ANY
- 하위 쿼리의 결과 중에 하나라도 일치하는 데이터
- 하위 쿼리의 결과로 OR 연산을 하는 것과 동일

```sql
-- TEST_SUB 테이블에서 NAME이 A로 시작하는 사람들의 ID중에서 하나라도 더 큰 ID를 가진 TEST의 데이터
SELECT *
FROM TEST
WHERE ID > ANY(
				SELECT ID
				FROM TEST_SUB
				WHERE NAME LIKE 'A%'
			 )
;
```
