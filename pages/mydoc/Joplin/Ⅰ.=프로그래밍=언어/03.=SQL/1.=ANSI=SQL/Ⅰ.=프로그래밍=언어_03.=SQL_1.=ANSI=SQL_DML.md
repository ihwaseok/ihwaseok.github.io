---
title: DML
updated: 2023-01-20 03:36:24Z
created: 2023-01-15 08:26:05Z
latitude: 37.44491680
longitude: 127.13886840
altitude: 0.0000
sidebar: mydoc_sidebar1
permalink: Ⅰ.=프로그래밍=언어_03.=SQL_1.=ANSI=SQL_DML.html
folder: mydoc
---

## INSERT
- 데이터 삽입

```sql
-- 데이터 삽입
INSERT INTO TEST (ID, NAME) VALUES (1, 'ABC');

-- 기존 테이블 내용을 복사하여 삽입
INSERT INTO TEST
SELECT	COL1 AS ID
		, COL2 AS NAME
FROM	TEST_ANOTHER
;
```

<br>

## UPDATE
- 데이터 수정

```sql
-- 데이터 수정
UPDATE TEST
SET NAME = 'XYZ'
	, NICK_NAME = 'PLAYER'
WHERE ID = 1
;

-- 테이블을 이용하여 데이터 수정
UPDATE TEST
SET NAME = B.NICK_NAME
FROM TEST AS A
JOIN TEST_ANOTHER AS B
	ON A.ID = B.ID
WHERE B.IS_YN = 'Y'
;
```

<br>

## DELETE
- 데이터 삭제

```sql
DELETE FROM TEST WHERE ID = 1;
```

<br>

## SELECT
- 데이터 조회

```sql
-- 데이터 조회
SELECT * FROM TEST;

-- 기존 테이블 내용을 복사하여 테이블 생성 후 삽입
-- IN 을 사용하면 다른 DB에 복사 가능
SELECT	ID, NAME
INTO	TEST_NEW [IN LINKED_DB]
FROM	TEST
WHERE	ID = 1
;
```

<br>

## MERGE
- 데이터 수정 및 삽입, 삭제

```sql
MERGE INTO TEST AS TARGET
USING (
	SELECT A.ID, B.NICK_NAME
	FROM TEST_A AS A
	JOIN TEST_B AS B
		ON A.ID = B.ID
	WHERE IS_YN = 'Y'
) AS T
	ON TARGET.ID = T.ID

-- TARGET, T 사이의 ON 조건을 만족할 경우
WHEN MATCHED THEN
	UPDATE SET TARGET.NAME = T.NICK_NAME
	
-- ELSE
WHEN NOT MATCHED THEN
	INSERT (ID, NAME) VALUES (T.ID, T.NICK_NAME)
;
```
