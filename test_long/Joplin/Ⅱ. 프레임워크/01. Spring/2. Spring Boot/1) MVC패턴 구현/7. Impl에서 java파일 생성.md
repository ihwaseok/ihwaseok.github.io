---
title: 7. Impl에서 java파일 생성
updated: 2022-12-13 08:00:01Z
created: 2022-12-08 06:19:12Z
latitude: 37.26357270
longitude: 127.02860090
altitude: 0.0000
---

## Service의 impl에서 ~ServiceImpl.java파일 작성
- class명 위에 @Service 어노테이션 추가
- implements ~Service 추가
- @Autowired 어노테이션으로 작성한 ~Mapper, ~Repository 주입 (private)
- 메소드 구현
<br>

```java
@Service
public class TestTableServiceImpl implements TestTableService {
	
	@Autowired
	private TestTableRepository testTableRepository;
	
	@Autowired
	private TestMapper testMapper;

	// Mapper를 이용하여 데이터 가져오기
	@Override
	public List<Map<String, Object>> getTestTableList(List<TestTableDto> props) throws Exception {
		return testMapper.getTestTableList(props);
	}
	
	// Repository를 이용하여 데이터 가져오기
	@Transactional
	@Override
	public List<TestTableDto> findTestTableList(TestTableDto testTableDto) {
		return testTableRepository.findAllByOrderByColAlphaAsc().stream()
				.map(testtable -> new TestTableDto(testtable))
				.collect(Collectors.toList());
	}
	
	// Repository를 이용하여 데이터 저장
	@Transactional
	@Override
	public void saveTestTableList(TestCommonList<AUISaveDataSet> props) {
		for (Map<String, Object> uData : props.getData().getUpdateDataList()) {
			
			String colAlpha = StringForUtils.toString2(uData.get("COL_Alpha"));
			TestTable entity = testTableRepository.findById(colAlpha).orElse(null);
			
			if (entity != null) {
				TestTableDto newDto = new TestTableDto(entity);
				newDto.setTestCol(StringForUtils.toString2(uData.get("TEST_COL")));
				testTableRepository.save(newDto.toEntity());
			}
		}
	}
}
```
