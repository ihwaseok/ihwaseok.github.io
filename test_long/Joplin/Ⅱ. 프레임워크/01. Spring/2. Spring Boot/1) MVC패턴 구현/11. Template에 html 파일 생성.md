---
title: 11. Template에 html 파일 생성
updated: 2022-12-13 08:04:14Z
created: 2022-12-08 06:34:42Z
latitude: 37.26357270
longitude: 127.02860090
altitude: 0.0000
---

## Template에 html 파일 작성
- 상단에 ui 구성
- 하단에 script로 로직 구성
<br>

```xml
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/portal/test_layout.html}">
<!-- 상단 UI구성 -->
<th:block layout:fragment="test_content">
	<div>
		<!-- 버튼 -->
		<div>
			<button id="btnSearch"><span th:text="조회"></span></button>
		</div>
		
		<!-- 검색조건 -->
		<div>
			<form id="searchForm" name="searchForm" th:object="${search}">
			<div>
				<div>
				  <span>컬럼1</span>
				</div>
				<input id="colAlpha" type="text" placeholder="">
			</div>
			</form>
		</div>		
		
		<!-- 그리드 -->
		<div>
			<div id="dg"></div>
		</div>
	</div>
</th:block>

<!-- 하단 로직구성 -->
<th:block layout:fragment="test_script">
<script type="text/javascript" th:inline="javascript">
$(document).ready(function() {
	
	var _mySite = {
		// 초기화 동작
		init: function() {
			// 조회버튼 클릭시 이벤트 등록
			$('#btnSearch').on('click', function() {
				_mySite.search();
			});
			// 그리드 초기화
			_myAUIGrid.createEmptyGrid("#dg");
		},
		// Controller에 전달할 검색조건
		getSearchParam: function() {
			return {
				"props": {
					"colAlpha": $('#colAlpha').val(),
					"colBeta": 'N'
				}
			};
		},
		// ajax 통신 공통함수 (공통적으로 쓸수 있게 본래는 외부에 위치)
		testAjax: function(url, formData, callback, failCallback) {
			$.ajax({
				type: 'POST',
				url: url,
				dataType: 'json',
				contentType: 'application/json; charset=utf-8',
				data: JSON.stringify(formData),
				success: function(res) {
					if (res.status === 'success') {
						if (callback) callback(res.result);
					} else {
						if (failCallback) failCallback(res.result);
					}
				},
				error: function(err) {
					alert('Error');
				}
			});
		},
		// 클릭 이벤트 발생시 동작
		search: function() {
			var formData = _mySite.getSearchParam();
			_mySite.testAjax(/*[[@{/program/module_1/testtable/r}]]*/ '', formData, function(res) {
				AUIGrid.create('#dg', res.header.columns, null);
				AUIGrid.setGridData('#dg', res.dataList);
			}, "#dg");
		}
	};
	// 페이지 로드시 초기화 동작과 조회버튼 클릭 이벤트를 발생
	_mySite.init();
	$('#btnSearch').trigger('click');
});
</script>
</th:block>
</html>
```