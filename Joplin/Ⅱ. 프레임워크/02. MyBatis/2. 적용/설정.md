---
title: 설정
updated: 2022-12-14 08:13:54Z
created: 2022-12-14 07:59:34Z
latitude: 37.26357270
longitude: 127.02860090
altitude: 0.0000
---

## xml파일 사용 설정
```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-config.dtd">


<configuration>
	<!-- DB로 전달하거나 전달 받을 때의 레코드 형태 -->
	<typeAliases>
    	<!-- 레코드의 형태를 memberVO로 합니다. -->
		<typeAlias type="com.spring.ex01.MemberVO" alias="memberVO"></typeAlias>
	</typeAliases>
	
	<environments default="development">
		<environment id="development">
			<transactionManager type="JDBC"></transactionManager>
			<dataSource type="POOLED">
				<property name="driver" value="oracle.jdbc.driver.OracleDriver"></property>
				<property name="url" value="JDBC:oracle:thin:@localhost:1521:XE"></property>
				<property name="username" value="계정명"></property>
				<property name="password" value="비밀번호"></property>
			</dataSource>
		</environment>
	</environments>
	
	<!-- sql문이 있는 xml을 읽어들입니다. 패키지 이름 전부 작성해줘야 합니다. -->
	<mappers>
		<mapper resource="mybatis/mappers/member.xml"></mapper>
	</mappers>
</configuration>
```
<br>

## Spring java 파일 사용 설정
```java
@Configuration
@MapperScan(basePackages = {""com.company.**.mapper"})
public class TestConfigurer {

	@Bean
	@ConfigurationProperties(prefix = "spring.datasource.hikari")
	public HikariConfig hikariConfigBean() {
		HikariConfig hikariConfig = new HikariConfig();
		hikariConfig.setDriverClassName("net.sf.log4jdbc.sql.jdbcapi.DriverSpy");
		hikariConfig.setJdbcUrl("jdbc:log4jdbc:sqlserver://localhost:1433;databaseName=TEST");
		hikariConfig.setUsername("test");
		hikariConfig.setPassword("1234");
		
		return hikariConfig;
	}
	
	@Bean
	public DataSource dataSourceBean() {
		DataSource dataSource = new HikariDataSource(hikariConfigBean());
		
		return dataSource;
	}
	
	@Bean
	public SqlSessionFactoryBean sqlSessionFactoryBean() throws Exception {
		SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();
		sqlSessionFactoryBean.setDataSource(dataSourceBean());
		
		return sqlSessionFactoryBean;
	}
	
    @Bean
    public SqlSessionTemplate sqlSession(SqlSessionFactory sqlSessionFactory) {
        return new SqlSessionTemplate(sqlSessionFactory);
    }
	
	@Bean
	public ConfigurationCustomizer configurationCustomizerBean() {
		return new ConfigurationCustomizer() {

			@Override
			public void customize(org.apache.ibatis.session.Configuration configuration) {
				// TODO Auto-generated method stub
				configuration.setMapUnderscoreToCamelCase(true);
				configuration.setJdbcTypeForNull(JdbcType.NULL);
			}
		};
	}
}
```